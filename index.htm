<!DOCTYPE html>
<html>
<head>
<meta http-equiv='cache-control' content='no-cache'> 
<meta http-equiv='expires' content='0'> 
<meta http-equiv='pragma' content='no-cache'>
<style type="text/css">
input[type="text"], textarea {

  background-color : transparent; 

}
</style>
<script>
function calculate() {
	const dmg_amount = [document.getElementById('am_all').value, 
	document.getElementById('am_main').value, 
	document.getElementById('am_aspd').value, 
	document.getElementById('am_crit').value,
	document.getElementById('am_vs').value,
	document.getElementById('am_whil').value,
	document.getElementById('am_wit').value,
	document.getElementById('am_vuln').value,
	document.getElementById('am_other1').value,
	document.getElementById('am_other2').value,
	document.getElementById('am_other3').value,
	document.getElementById('am_other4').value,
	document.getElementById('am_other5').value,
	document.getElementById('am_other6').value,
	document.getElementById('am_other7').value,
	document.getElementById('am_other8').value,
	document.getElementById('am_other9').value,	
	document.getElementById('am_other10').value];
	
	const up_amount = [document.getElementById('up_all').value, 
	document.getElementById('up_main').value, 
	document.getElementById('up_aspd').value, 
	document.getElementById('up_crit').value,
	document.getElementById('up_vs').value,
	document.getElementById('up_whil').value,
	document.getElementById('up_wit').value,
	document.getElementById('up_vuln').value,
	document.getElementById('up_other1').value,
	document.getElementById('up_other2').value,
	document.getElementById('up_other3').value,
	document.getElementById('up_other4').value,
	document.getElementById('up_other5').value,
	document.getElementById('up_other6').value,
	document.getElementById('up_other7').value,
	document.getElementById('up_other8').value,
	document.getElementById('up_other9').value,	
	document.getElementById('up_other10').value];	
	
	for (let i = 0; i <18; i++) {
		if (up_amount[i].replace(/,/g, ".")> 100) {  up_amount[i] = 100;} 
		else if (up_amount[i].replace(/,/g, ".")< 0) {  up_amount[i] = 0;} 
	} 
	
	const dmg_multi = [];
	
	for (let i = 0; i <18; i++) {
		dmg_multi[i] = parseFloat(up_amount[i].replace(/,/g, ".")) * parseFloat(dmg_amount[i].replace(/,/g, ".")) / 10000 + 1;
	} 
	
	
	var dmg_output = 100 * 
	dmg_multi[0] * 
	dmg_multi[1] * 
	dmg_multi[2] * 
	dmg_multi[3] * 
	dmg_multi[4] * 
	dmg_multi[5] * 
	dmg_multi[6] * 
	dmg_multi[7] * 
	dmg_multi[8] * 
	dmg_multi[9] * 
	dmg_multi[10] * 
	dmg_multi[11] * 
	dmg_multi[12] * 
	dmg_multi[13] * 
	dmg_multi[14] * 
	dmg_multi[15] * 
	dmg_multi[16] * 
	dmg_multi[17];
	
	document.getElementById('dmg_output').value= dmg_output.toFixed(2);
}
</script>
</head>
<body style="background-color:#f3f3f3; font-family:verdana; font-size:14px;">

<h2>Diablo 4 Damage Pool Calculator</h2>

<form>
<table style="width: 400px;">
  <tr>
    <th>Damage Pool&nbsp</th>
    <th>Amount (%)&nbsp</th>
    <th>Uptime (%)&nbsp</th>
  </tr>
  <tr style="background-color:#d9ead3; color: black;">
    <td>All</td>
    <td><input type="text" onkeyup="calculate();" id="am_all" name="am_all" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();"  id="up_all" name="up_all" size="9" value="100"></td>
  </tr>
  <tr style="background-color:#e6b8af; color: black;">
    <td>Main Stat</td>
    <td><input type="text" onkeyup="calculate();" id="am_main" name="am_main" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_main" name="up_main" size="9" value="100"></td>
  </tr>
  <tr style="background-color:#cfe2f3; color: black;">
    <td>Attack Speed</td>
    <td><input type="text" onkeyup="calculate();" id="am_aspd" name="am_aspd" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_aspd" name="up_aspd" size="9" value="100"></td>
  </tr>
  <tr style="background-color:#fff2cc; color: black;">
    <td>Critical</td>
    <td><input type="text" onkeyup="calculate();" id="am_crit" name="am_crit" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_crit" name="up_crit" size="9" value="100"></td>
  </tr>
  <tr style="background-color:#d9d9d9; color: black;">
    <td>Versus</td>
    <td><input type="text" onkeyup="calculate();" id="am_vs" name="am_vs" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_vs" name="up_vs" size="9" value="100"></td>
  </tr>
  <tr style="background-color:#f4cccc; color: black;">
    <td>While</td>
    <td><input type="text" onkeyup="calculate();" id="am_whil" name="am_whil" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_whil" name="up_whil" size="9" value="100"></td>
  </tr>
  <tr style="background-color:#93c47d; color: black;">
    <td>With</td>
    <td><input type="text" onkeyup="calculate();" id="am_wit" name="am_wit" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_wit" name="up_wit" size="9" value="100"></td>
  </tr>
  <tr style="background-color:#d9d2e9; color: black;">
    <td>Vulnerable</td>
    <td><input type="text" onkeyup="calculate();" id="am_vuln" name="am_vuln" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_vuln" name="up_vuln" size="9" value="100"></td>
  </tr>
  <tr>
    <td>Other 1</td>
    <td><input type="text" onkeyup="calculate();" id="am_other1" name="am_other1" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_other1" name="up_other1" size="9" value="100"></td>
  </tr>
  <tr>
    <td>Other 2</td>
    <td><input type="text" onkeyup="calculate();" id="am_other2" name="am_other2" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_other2" name="up_other2" size="9" value="100"></td>
  </tr>
  <tr>
    <td>Other 3</td>
    <td><input type="text" onkeyup="calculate();" id="am_other3" name="am_other3" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_other3" name="up_other3" size="9" value="100"></td>
  </tr>
  <tr>
    <td>Other 4</td>
    <td><input type="text" onkeyup="calculate();" id="am_other4" name="am_other4" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_other4" name="up_other4" size="9" value="100"></td>
  </tr>
  <tr>
    <td>Other 5</td>
    <td><input type="text" onkeyup="calculate();" id="am_other5" name="am_other5" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_other5" name="up_other5" size="9" value="100"></td>
  </tr>
  <tr>
    <td>Other 6</td>
    <td><input type="text" onkeyup="calculate();" id="am_other6" name="am_other6" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_other6" name="up_other6" size="9" value="100"></td>
  </tr>
  <tr>
    <td>Other 7</td>
    <td><input type="text" onkeyup="calculate();" id="am_other7" name="am_other7" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_other7" name="up_other7" size="9" value="100"></td>
  </tr>
  <tr>
    <td>Other 8</td>
    <td><input type="text" onkeyup="calculate();" id="am_other8" name="am_other8" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_other8" name="up_other8" size="9" value="100"></td>
  </tr>
  <tr>
    <td>Other 9</td>
    <td><input type="text" onkeyup="calculate();" id="am_other9" name="am_other9" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_other9" name="up_other9" size="9" value="100"></td>
  </tr>
  <tr>
    <td>Other 10</td>
    <td><input type="text" onkeyup="calculate();" id="am_other10" name="am_other10" size="9" value="0"></td>
    <td><input type="text" onkeyup="calculate();" id="up_other10" name="up_other10" size="9" value="100"></td>
  </tr>
  <tr>
	<td></td>
	<td></td>
	<td></td>
  </tr>
</table>
<br><b>Damage: &nbsp</b><input type="text" style="direction:RTL;" id="dmg_output" name="dmg_ouput" size="25" value="100.00">&nbsp  <input type="reset" value="Reset" />
</form>
 

  


</body>
</html>

